<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Color Space Assessment for Automatic Chronic Wound Segmentation</title>

  <!-- Fuente -->
  <link href="https://fonts.googleapis.com/css2?family=Abhaya+Libre&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Abhaya Libre', serif;
      margin: 0;
      background: #0a2a47;
      color: #ffffff;
      line-height: 1.6;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 20px;
    }

    /* HEADER */
    .header {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      flex-wrap: wrap;
      padding: 10px 0;
      position: relative;
      box-sizing: border-box;
    }

    .header-text { text-align: center; margin: 0 20px; }
    .header-text h1 { font-size: 2.7em; margin: 0 0 5px 0; line-height: 1.2; }
    h1 span { display: block; }
    .authors { font-size: 1.5em; margin: 0; padding: 0; line-height: 1.3; }
    .authors span { display: block; }

    /* Logos en desktop */
    .logo { width: 500px; height: auto; margin: 0; }
    .header img:first-child { position: absolute; top: 10px; left: 0px; width: 390px; }
    .header img:last-child  { position: absolute; top: 10px; right: 0px; width: 390px; }

    /* Secciones */
    h2 { color: #ffffff; font-size: 1.5em; margin-top: 20px; }

    /* PDF viewers (contenedores donde PDF.js renderiza) */
    .pdf-viewer-article,
    .pdf-viewer-poster {
      margin: 20px 0;
      border-radius: 8px;
      overflow: auto;
      background: #ffffff;
      padding: 12px;
      box-sizing: border-box;
      min-height: 120px; /* por si tarda en cargar */
    }

    /* Cada canvas (p√°gina) */
    .pdf-page-canvas {
      display: block;
      margin: 0 auto 12px auto;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
      background: white;
    }

    .references {
      margin-top: 30px;
      padding: 15px;
      text-align: justify;
      color: #ffffff;
      border-left: 4px solid #ffffff;
      font-size: 1.2em;
      background: none;
    }

    a { color: #00bfff; text-decoration: none; }
    a:hover { text-decoration: underline; }

    /* Responsive */
    @media screen and (max-width: 768px) {
      .header { flex-direction: column; align-items: center; position: static; }
      .header img { position: static !important; width: 120px; margin: 10px 0; }
      .header-text h1 { font-size: 1.4em; }
      .authors { font-size: 0.9em; text-align: center; }
      /* menos altura m√≠nima: el contenido ser√° scrollable */
      .pdf-viewer-article { min-height: 220px; }
      .pdf-viewer-poster  { min-height: 140px; }
    }

    /* Mensajes */
    .loading { padding: 20px; color: #222; text-align: center; }
    .error { color: red; padding: 12px; }
  </style>
</head>
<body>

  <!-- HEADER -->
  <div class="header">
    <img src="logo.png" alt="Logo Izquierdo" class="logo">
    <div class="header-text">
      <h1>
        <span>Color Space Assessment for</span>
        <span>Automatic Chronic Wound Segmentation</span>
      </h1>
      <p class="authors">
        <span>Angela F. Palacios-Gaxiola, Stewart R. Santos-Arce, Senior Member, IEEE</span>
        <span>Sulema Torres-Ramos, Israel Rom√°n-God√≠nez, Ricardo A. Salido-Ruiz</span>
      </p>
    </div>
    <img src="laedc.png" alt="Logo Derecho" class="logo">
  </div>

  <!-- MAIN CONTENT -->
  <div class="container">
    <h2>üìÑ Article</h2>
    <div class="pdf-viewer-article" id="articleContainer">
      <div class="loading">Cargando art√≠culo‚Ä¶</div>
    </div>

    <h2>üñºÔ∏è Poster</h2>
    <div class="pdf-viewer-poster" id="posterContainer">
      <div class="loading">Cargando p√≥ster‚Ä¶</div>
    </div>

    <h2>üìö References</h2>
    <div class="references">
      <ol>
        <li>B. Cassidy et al., "An Enhanced Harmonic Densely Connected Hybrid Transformer Network Architecture for Chronic Wound Segmentation Utilizing Multi-Colour Space Tensor Merging," <i>Comput Biol Med</i>, vol. 192, p. 110172, Oct. 2024.</li>
        <li>D. Marijanoviƒá and D. Filko, "A Systematic Overview of Recent Methods for Non-Contact Chronic Wound Analysis," <i>Applied Sciences</i>, vol. 10, no. 21, p. 7613, Oct. 2020.</li>
        <li>S. N. Gowda y C. Yuan, "ColorNet: Investigating the Importance of Color Spaces for Image Classification," in <i>Lecture Notes in Computer Science</i>, 2019.</li>
        <li>M. Krƒôcichwost et al., "Chronic wounds multimodal image database," <i>Computerized Medical Imaging and Graphics</i>, vol. 88, p. 101844, 2021.</li>
        <li>G. Jocher y J. Qiu, <i>Ultralytics YOLO11</i>, version 11.0.0, 2024. [Online]. Available: <a href="https://github.com/ultralytics/ultralytics" target="_blank">GitHub</a></li>
        <li>P. Iakubovskii, <i>Segmentation Models</i>, GitHub repository, 2019. [Online]. Available: <a href="https://github.com/qubvel/segmentation_models" target="_blank">GitHub</a></li>
      </ol>
    </div>
  </div>

  <!-- PDF.js desde CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
  <script>
    // Configurar worker (URL al worker del mismo CDN)
    const pdfjsLib = window['pdfjs-dist/build/pdf'] || window['pdfjs-dist/build/pdf'];
    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js';

    const articleUrl = 'articulo.pdf'; // tu archivo
    const posterUrl  = 'poster.pdf';

    // Mantener el estado de qu√© breakpoint se ha renderizado
    let lastMode = null; // 'mobile' o 'desktop'

    // Renderiza todas las p√°ginas de un PDF en el contenedor dado con el scale indicado
    async function renderPDFToContainer(url, containerEl, scale) {
      containerEl.innerHTML = '<div class="loading">Cargando PDF‚Ä¶</div>';
      try {
        const loadingTask = pdfjsLib.getDocument(url);
        const pdf = await loadingTask.promise;

        // limpiar
        containerEl.innerHTML = '';

        for (let p = 1; p <= pdf.numPages; p++) {
          const page = await pdf.getPage(p);
          const viewport = page.getViewport({ scale });

          // Canvas DOM
          const canvas = document.createElement('canvas');
          canvas.className = 'pdf-page-canvas';

          const context = canvas.getContext('2d');

          // Ajuste de devicePixelRatio para nitidez en pantallas retina
          const DPR = window.devicePixelRatio || 1;
          canvas.width  = Math.floor(viewport.width * DPR);
          canvas.height = Math.floor(viewport.height * DPR);
          canvas.style.width  = Math.floor(viewport.width) + 'px';
          canvas.style.height = Math.floor(viewport.height) + 'px';

          // Escalar el contexto para DPR
          context.setTransform(DPR, 0, 0, DPR, 0, 0);

          containerEl.appendChild(canvas);

          // Renderizar
          await page.render({ canvasContext: context, viewport }).promise;
        }
      } catch (err) {
        console.error('Error cargando PDF:', err);
        containerEl.innerHTML = '<p class="error">No se pudo cargar el PDF ‚Äî se mostrar√° un iframe como fallback.</p>';
        // fallback sencillo: iframe
        const fallbackIframe = document.createElement('iframe');
        fallbackIframe.src = url + '#zoom=70';
        fallbackIframe.style.width = '100%';
        fallbackIframe.style.height = '400px';
        fallbackIframe.style.border = 'none';
        containerEl.appendChild(fallbackIframe);
      }
    }

    // Decide escalas seg√∫n ancho de pantalla y renderiza si cambia el modo
    function decideAndRender() {
      const ancho = window.innerWidth;
      const isMobile = ancho <= 768;
      const mode = isMobile ? 'mobile' : 'desktop';
      if (mode === lastMode) return; // evitar re-render innecesario
      lastMode = mode;

      // Escalas (ajusta estos valores si quieres m√°s/menos zoom)
      const articleScale = isMobile ? 0.65 : 1.0; // art√≠culo: 65% en m√≥vil, 100% en desktop
      const posterScale  = isMobile ? 0.30 : 0.50; // p√≥ster: 40% en m√≥vil, 60% en desktop

      // contenedores
      const articleContainer = document.getElementById('articleContainer');
      const posterContainer  = document.getElementById('posterContainer');

      // Renderizar (no await para que corran en paralelo)
      renderPDFToContainer(articleUrl, articleContainer, articleScale);
      renderPDFToContainer(posterUrl, posterContainer, posterScale);
    }

    // Ejecutar al cargar y al cambiar tama√±o (con debounce)
    window.addEventListener('load', decideAndRender);
    let _resizeTimer = null;
    window.addEventListener('resize', () => {
      clearTimeout(_resizeTimer);
      _resizeTimer = setTimeout(decideAndRender, 300);
    });
  </script>
</body>
</html>










